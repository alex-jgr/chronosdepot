<?php defined('SYSPATH') OR die('No direct access allowed.');/** * Description of Team_Request * * @author Alexandru */class Model_Team_Request extends ORM{    protected $_table_name      = 'team_requests';    protected $_table_columns   = array(        'id'        => array('type' => 'int'),        'team_id'   => array('type' => 'int'),        'user_id'   => array('type' => 'int'),        'type'      => array('type' => 'string'),        'created'   => array('type' => 'int')    );        public $_belongs_to = array(        'user' => array('model' => 'User', 'foreign_key' => 'user_id'),        'team' => array('model' => 'Team', 'foreign_key' => 'team_id')    );        public static function get_requests($team_id = NULL, $user_id = NULL, $request_type = NULL, $user_info = FALSE)    {        $query = DB::select(DB::expr('*, team_requests.id AS id'))->from('team_requests');        if ($request_type) {            $query->where('type', '=', $request_type);        }                if ($team_id) {            $query->where('team_id', '=', $team_id);        }                if ($user_id) {            $query->where('user_id', '=', $user_id);        }                if ($user_info) {            $query->join('users')->on('team_requests.user_id', '=', 'users.id');        }                return $query->execute()->as_array();    }        }